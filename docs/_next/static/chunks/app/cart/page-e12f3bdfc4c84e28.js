(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5],{1640:(e,t,r)=>{Promise.resolve().then(r.bind(r,7178))},2993:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s={src:"/marketplace//_next/static/media/landscape-placeholder.aee68023.svg",height:800,width:800,blurWidth:0,blurHeight:0}},3519:(e,t)=>{var r;!function(){"use strict";var s={}.hasOwnProperty;function c(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=a(e,function(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return c.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)s.call(e,r)&&e[r]&&(t=a(t,r));return t}(r)))}return e}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(c.default=c,e.exports=c):void 0===(r=(function(){return c}).apply(t,[]))||(e.exports=r)}()},5695:(e,t,r)=>{"use strict";var s=r(8999);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},6504:(e,t,r)=>{"use strict";r.d(t,{A:()=>n,CartProvider:()=>i});var s=r(5155),c=r(2115);r(4946);var a=r(931);let l=(0,c.createContext)(),i=e=>{let{children:t}=e,{idIndex:r}=(0,c.useContext)(a.A),[i,n]=(0,c.useState)([]),[o,d]=(0,c.useState)("$");return(0,c.useEffect)(()=>{d("$");let e=localStorage.getItem("cart");console.log("cart from context: ",e),null!=e&&n(JSON.parse(e))},[]),(0,c.useEffect)(()=>{null!=i&&i.length>0&&localStorage.setItem("cart",JSON.stringify(i))},[i]),(0,s.jsx)(l.Provider,{value:{product_in_cart_Context:i,currency:o,addCart:function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2],console.log(r);let s=r.get(e);if(console.log(s),void 0!==s&&t>0){if(void 0===i.find(t=>t.id===e)){let r=[...i,{id:e,quantity:t,currency:s.currency,price:s.price,product_name:s.product_name}];return console.log("new context: ",r),n(r),"Item added to cart!"}{let r=i.map(r=>r.id===e?{...r,quantity:r.quantity+t}:r);return console.log("new context: ",r),n(r),"Item added to cart!"}}return 0===t?(console.error("quantity is zero."),"Quantity cannot be zero."):(console.error("item not found."),"item not found.")},removeCart:e=>{let t=Array.isArray(e)?e:[e];console.log("Removing ids: ",t),console.log("Current cart: ",i);let r=i.filter(e=>!t.includes(e.id));localStorage.setItem("cart",JSON.stringify(r)),n(r)},clearCart:()=>{n([])},listCart:()=>i},children:t})},n=l},7178:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var s=r(5155),c=r(2115),a=r(6504),l=r(931);r(6874);var i=r(5695),n=r(2993);let o={src:"/marketplace//_next/static/media/trash_can.7d35947c.svg"};var d=r(5717);let u=()=>{let[e,t]=(0,c.useState)([]),{product:r}=(0,c.useContext)(l.A),{product_in_cart_Context:u,addCart:m,removeCart:h}=(0,c.useContext)(a.A),[v,p]=(0,c.useState)("$"),[x,g]=(0,c.useState)(0),_=(0,i.useRouter)(),[f,j]=(0,c.useState)([]),[N,y]=(0,c.useState)(),S=(0,c.useRef)(null);(0,c.useEffect)(()=>{let e,t,r=S.current;if(!r)return;let s=()=>{clearTimeout(e),r.classList.add("show-scrollbar")},c=()=>{e=setTimeout(()=>{r.classList.remove("show-scrollbar")},120)},a=()=>{r.classList.add("show-scrollbar"),clearTimeout(t),t=setTimeout(()=>{r.classList.remove("show-scrollbar")},600)};return r.addEventListener("mouseover",s),r.addEventListener("mouseout",c),r.addEventListener("scroll",a),()=>{r.removeEventListener("mouseover",s),r.removeEventListener("mouseout",c),r.removeEventListener("scroll",a)}},[]),(0,c.useEffect)(()=>{console.log("hi"),y(n.A),u.length>=0&&(t(u),b())},[u]);let b=()=>{let e=0;u.map(t=>{let{quantity:r,price:s}=t;e+=r*s}),g(e)};return void 0!=e&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"cart_window",children:[(0,s.jsxs)("div",{className:"cart_heading",children:[(0,s.jsx)("h4",{children:"Your Shopping Cart"}),(0,s.jsxs)("div",{className:"heading_purchase",children:[(0,s.jsxs)("h4",{children:["Total: $",x.toFixed(2)]}),(0,s.jsx)("button",{children:"Proceed to checkout"})]})]}),(0,s.jsxs)("div",{className:"left_pane",children:[(0,s.jsxs)("div",{className:"product_header",children:[(0,s.jsx)("div",{className:"checkbox_wrapper",children:(0,s.jsx)("input",{className:"header_checkbox",type:"checkbox",checked:f.length===e.length&&f.length>0,onClick:t=>{t.stopPropagation(),t.target.checked?j(e.map(e=>e.id)):j([]),console.log("selected item id list: ",f)}})}),(0,s.jsxs)("div",{className:"header_center_module",children:[(0,s.jsx)("div",{className:"item_detail_module_header",children:(0,s.jsx)("div",{className:"cell",children:"Product"})}),(0,s.jsxs)("div",{className:"item_price_module_header",children:[(0,s.jsx)("div",{className:"cell",children:"Unit Price"}),(0,s.jsx)("div",{className:"cell",children:"Qty"}),(0,s.jsx)("div",{className:"cell",children:"Subtotal"})]})]}),(0,s.jsx)("div",{className:"delete_module",children:(0,s.jsx)("img",{src:o.src,alt:"Logo",className:"delete_button_img",onClick:e=>{e.stopPropagation(),console.log("selectedItem: ",f),h(f)}})})]}),0===e.length?(0,s.jsx)("div",{ref:S,className:"empty_container",children:(0,s.jsx)("span",{children:"No product selected in cart"})}):(0,s.jsx)("div",{ref:S,className:"product_container",children:e.map(e=>(0,s.jsxs)("div",{className:"product_in_cart",onClick:()=>_.push("product/"+e.id),children:[(0,s.jsx)("div",{className:"checkbox_wrapper",children:(0,s.jsx)("input",{type:"checkbox",checked:f.includes(e.id),onClick:t=>{t.stopPropagation(),t.target.checked?j([...f,e.id]):j(t=>t.filter(t=>t!==e.id))},className:"item_checkbox"})}),(0,s.jsxs)("div",{className:"item_center_module",children:[(0,s.jsxs)("div",{className:"item_name_module",children:[(0,s.jsx)("div",{className:"cell",children:(0,s.jsx)("div",{className:" product_img",children:(0,s.jsx)("img",{src:N.src,className:"large_img_config"})})}),(0,s.jsx)("div",{className:"cell",children:(0,s.jsx)("span",{children:e.product_name})})]}),(0,s.jsxs)("div",{className:"item_price_module",children:[(0,s.jsx)("div",{className:"cell",children:e.currency+" "+e.price}),(0,s.jsx)("div",{className:"cell",children:e.quantity}),(0,s.jsx)("div",{className:"cell",children:e.currency+" "+e.price*e.quantity})]})]}),(0,s.jsx)("div",{className:"delete_module",children:(0,s.jsx)("img",{src:o.src,alt:"Logo",className:"delete_button_img",onClick:t=>{t.stopPropagation(),console.log("clicked"),h(e.id)}})})]},e.id))})]})]}),(0,s.jsx)(d.default,{theme:"Suggestion"})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[874,717,441,684,358],()=>t(1640)),_N_E=e.O()}]);